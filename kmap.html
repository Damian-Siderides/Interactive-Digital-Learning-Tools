<html>
<head>
<title>Karnaugh map</title>
</head>
<body>
<script>

		function print(array, pow, variables) {
			for (let i = 0; i < pow; i++) {
				for (let j = 0; j < variables + 1; j++) {
					document.write(array[i][j] + " ");
				}
				document.write("<br/>");
			}
		}
		
		function dec2bin(c, n, array) {
   			for(let i = 31; i >= 0; i--) {
     			if ((c & (1 << i)) != 0) {
      				array[c][n - i - 1] = 1;
     			} else if (i < n) {
       				array[c][n - i - 1] = 0;
     			}
   			}
		}

		var variables = 4;
		var pow = Math.pow(2, variables);
		var random = Math.ceil(Math.random() * variables);
		var tokens = ["and", "or", "xor", "nand", "nor", "xnor"];
		var strings = [];
		
		for (let i = 0; i < variables - 1; i++) {
			strings[i] = tokens[Math.floor(Math.random() * 6)];
		}

		var array = [];
		for (let i = 0; i < pow; i++) {
     		array[i] = [];
     		dec2bin(i, variables, array);
  		}

		for (let i = 0; i < pow; i++) {

			let answer = array[i][0];

			for (let j = 0; j < variables - 1; j++) {
				switch (strings[j]) {
					case "and": answer = answer & array[i][j + 1];
							    break;
					case "or": answer = answer | array[i][j + 1];
							   break;
					case "xor": answer = answer ^ array[i][j + 1];
								break;
								//might be possible to just XOR answer with 0000 0001 to toggle it.
					case "nand": answer = ((answer & array[i][j + 1]) == 1) ? 0 : 1;
								 break;
					case "nor": answer = ((answer | array[i][j + 1]) == 1) ? 0 : 1;
								break;
					case "xnor": answer = ((answer ^ array[i][j + 1]) == 1) ? 0 : 1;
								 break;
				}
			}	

			array[i][variables] = answer;

		}
		
		print(array, pow, variables);

		
	

</script>
</body>
</html>
