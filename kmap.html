<html>
<head>
<title>Karnaugh map</title>
</head>
<body>



		<input id="a" type="button" value=""/>
		<br/>
		<input id="b" type="button" value=""/>
		<br/>
		<input id="c" type="button" value=""/>
		<br/>
		<input id="d" type="button" value=""/>
		<br/>


<script>

		function print(array, pow, variables) {
			
		for (let i = 0, c = 'A'; i < variables; i++) {
			document.write(c);
			c = String.fromCharCode(c.charCodeAt() + 1);
			
		}
		document.write(" Result" + "<br/>");

			for (let i = 0; i < pow; i++) {
				for (let j = 0; j < variables + 1; j++) {
					document.write(array[i][j] + " ");
					if (j == variables - 1) {
						document.write("|  ");
					}
				}
				document.write("<br/>");
			}
		}
		
		function dec2bin(c, n, array) {
   			for(let i = 31; i >= 0; i--) {
     			if ((c & (1 << i)) != 0) {
      				array[c][n - i - 1] = 1;
     			} else if (i < n) {
       				array[c][n - i - 1] = 0;
     			}
   			}
		}

		var variables = 4;
		var pow = Math.pow(2, variables);
		var random = Math.ceil(Math.random() * variables);
		var tokens = ["and", "or", "xor", "nand", "nor", "xnor"];
		var strings = [];
		
		var newString = something(variables, strings, tokens);

		
		

		var array = [];
		for (let i = 0; i < pow; i++) {
     		array[i] = [];
     		dec2bin(i, variables, array);
  		}


		for (let i = 0; i < pow; i++) {

			let answer = array[i][0];

			for (let j = 0; j < variables - 1; j++) {
				switch (strings[j]) {
					case "and": answer = answer & array[i][j + 1];
							    break;
					case "or": answer = answer | array[i][j + 1];
							   break;
					case "xor": answer = answer ^ array[i][j + 1];
								break;
								//might be possible to just XOR answer with 0000 0001 to toggle it.
					case "nand": answer = ((answer & array[i][j + 1]) == 1) ? 0 : 1;
								 break;
					case "nor": answer = ((answer | array[i][j + 1]) == 1) ? 0 : 1;
								break;
					case "xnor": answer = ((answer ^ array[i][j + 1]) == 1) ? 0 : 1;
								 break;
				}
			}	

			array[i][variables] = answer;

		}
		
		print(array, pow, variables);

	



		function something (variables, strings, tokens) {


		var construct = "A";

			for (let i = 0, c = 'B'; i < variables - 1; i++) {
				strings[i] = tokens[Math.floor(Math.random() * 6)];
				
				construct += " " + strings[i] + " " + c;
				c = String.fromCharCode(c.charCodeAt() + 1);
			}

			return construct;

		}


		

        document.getElementById('a').value = newString;
        document.getElementById('b').value = something(variables, strings, tokens);
        document.getElementById('c').value = something(variables, strings, tokens);
        document.getElementById('d').value = something(variables, strings, tokens);


        document.write(newString + " is the Correct Answer.");
		document.write("<br/>")
	

</script>


	




</body>
</html>
