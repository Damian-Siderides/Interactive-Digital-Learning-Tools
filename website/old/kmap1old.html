<html>
<head>
<title>Truth Table Generator</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

</head>
<body>


<nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
  <!-- <a class="navbar-brand" href="#">Navbar</a> -->
<!--   <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button> -->

  <div class="collapse navbar-collapse" id="navbarsExampleDefault">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item active">
        <a class="nav-link navbar-brand" href="home.html">Home <span class="sr-only">(current)</span></a>
      </li>
     
      <li class="nav-item active">
        <a class="nav-link navbar-brand" href="problems.html">Problems <span class="sr-only">(current)</span></a>
      </li>
      <!-- <li class="nav-item">
        <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Disabled</a>
      </li> -->
      <li class="nav-item active dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="dropdown01" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Karnaugh</a>
        <div class="dropdown-menu" aria-labelledby="dropdown01">
          <a class="dropdown-item" href="/kmap.html">kmap1</a>
          <a class="dropdown-item" href="/kmap2.html">kmap2</a>
          <a class="dropdown-item" href="/kmap3.html">kmap3</a>
          <a class="dropdown-item" href="/kmap4.html">kmap4</a>
        </div>
      </li>

      <li class="nav-item active dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="dropdown01" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">VHDL</a>
        <div class="dropdown-menu" aria-labelledby="dropdown01">
          <a class="dropdown-item" href="/kmap1.html">kmap1</a>
          <a class="dropdown-item" href="/kmap2.html">kmap2</a>
          <a class="dropdown-item" href="/kmap3.html">kmap3</a>
          <a class="dropdown-item" href="/kmap4.html">kmap4</a>
        </div>
      </li>


      <li class="nav-item active dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="dropdown01" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Finite State Machines</a>
        <div class="dropdown-menu" aria-labelledby="dropdown01">
          <a class="dropdown-item" href="/kmap1.html">kmap1</a>
          <a class="dropdown-item" href="/kmap2.html">kmap2</a>
          <a class="dropdown-item" href="/kmap3.html">kmap3</a>
          <a class="dropdown-item" href="/kmap4.html">kmap4</a>
        </div>
      </li>

      <!-- register and login here -->

    </ul>
     <form class="form-inline my-2 my-lg-0">
      <li class="nav-item active">
        <a class="nav-link navbar-brand" href="home.html">Register<span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item active">
        <a class="nav-link navbar-brand" href="home.html">Login<span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item active">
        <a class="nav-link navbar-brand" href="home.html"> <span class="sr-only">(current)</span></a>
      </li>
    </form>
  </div>
</nav>
<h1><a href="home.html">Homepage</a></h1>

<!-- END OF PROLOGUE -->


<br>

<div class="container">
		<center>
		
		<br>

		<table class = "table table-bordered table-striped table-hover">
  			<tr>
    			<td id = "letters" value=""></td>
    			<td><center>Results</center></td>
  			</tr>
  			<tr>
    			<td id = "matrix" value=""></td>
    			<td id = "results" value=""></td>
  			</tr>
		</table>


		<input id="a" type="button" class="btn btn-light" onClick = "check('a')" value=""/>
		<br/>

		<input id="b" type="button" class="btn btn-light" onClick = "check('b')" value=""/>
		<br/>

		<input id="c" type="button" class="btn btn-light" onClick = "check('c')" value=""/>
		<br/>

		<input id="d" type="button" class="btn btn-light" onClick = "check('d')" value=""/>
		<br/>
		<br>

		<div id = "response" class="btn"></div>

<!-- 
		<table class = "table table-bordered table-striped table-hover">
  			<tr>
    			<td id = "" class="btn btn-success">5</td>
    			<td id = "">1</td>
    			<td id = "">2</td>
    			<td id = "">3</td>
    			<td id = "">52</td>
  			</tr>
  			<tr>
    			<td id = "">33</td>
    			<td id = "">100</td>
    			<td id = "">100</td>
    			<td id = "">100</td>
    			<td id = "">100</td>
  			</tr>
  			<tr>
    			<td id = "" >100</td>
    			<td id = "" >100</td>
    			<td id = "" >100</td>
    			<td id = "" >100</td>
    			<td id = "" >100</td>
  			</tr>
  			<tr>
    			<td id = "">500</td>
    			<td id = "">100</td>
    			<td id = "">100</td>
    			<td id = "">100</td>
    			<td id = "">100</td>
  			</tr>
  			<tr>
    			<td id = "">100 </td>
    			<td id = "">100</td>
    			<td id = "">100</td>
    			<td id = "">100</td>
    			<td id = "">100</td>
  			</tr>
		</table> -->







</div>		


</center>


<script>

		//dont overload the built in print() function
		
		function printLetters(variables) {
		
			let letters = "";

			for (let i = 0, c = 'A'; i < variables; i++) {
				letters += c;
				c = String.fromCharCode(c.charCodeAt() + 1);
			}
			document.getElementById("letters").innerHTML = letters;
		}

		function printMatrix(pow) {

			let matrixOne = "";

			for (let i = 0; i < pow; i++) {
				matrixOne += dec2bin(i, 3) + "<br>";
			}

			document.getElementById("matrix").innerHTML = matrixOne;
		}

		function printResults(array, variables) {

			let results = "";

			for (let i = 0; i < 8; i++) {

				//results += parseInt(array[i][3]) + "<br>";
				results += array[i][variables] + "<br>";
				
			}

			document.getElementById("results").innerHTML = results;

		}


		function dec2bin(c, n) {
   			thing = ""
   			for(let i = 31; i >= 0; i--) {
     			if ((c & (1 << i)) != 0) {
      				thing += "1";
     			} else if (i < n) {
      				thing += "0";
     			}
   			}
   			return thing;
		}

		//function to store binary digits in an array.
		//there might be a better form to store then a array, such as a string
		function dec2bin2(c, n, array) {
   			for(let i = 31; i >= 0; i--) {
     			if ((c & (1 << i)) != 0) {
      				array[c][n - i - 1] = 1;
     			} else if (i < n) {
       				array[c][n - i - 1] = 0;
     			}
   			}
		}

		function randomString(variables, tokens) {

			var construct = "A";
			var strings = [];

			for (let i = 0, c = 'B'; i < variables - 1; i++) {
				strings[i] = tokens[Math.floor(Math.random() * 6)];
				
				construct += " " + strings[i] + " " + c;
				c = String.fromCharCode(c.charCodeAt() + 1);
			}

			return construct;

		}


		//MAIN

		var variables = 3; // x axis of array
		var pow = Math.pow(2, variables); // y axis of array
		
		printLetters(variables);
		printMatrix(pow);


		//var random = Math.ceil(Math.random() * variables);
		var tokens = ["and", "or", "xor", "nand", "nor", "xnor"];
		
		
		var newString = randomString(variables, tokens);

		

		var array = [];
		for (let i = 0; i < pow; i++) {
     		array[i] = [];
     		dec2bin2(i, variables, array);
  		}


		for (let i = 0; i < pow; i++) {

			let answer = array[i][0];

			for (let j = 0; j < variables - 1; j++) {
				switch (strings[j]) {
					case "and": answer = answer & array[i][j + 1];
							    break;
					case "or": answer = answer | array[i][j + 1];
							   break;
					case "xor": answer = answer ^ array[i][j + 1];
								break;
								//might be possible to just XOR answer with 0000 0001 to toggle it.
					case "nand": answer = ((answer & array[i][j + 1]) == 1) ? 0 : 1;
								 break;
					case "nor": answer = ((answer | array[i][j + 1]) == 1) ? 0 : 1;
								break;
					case "xnor": answer = ((answer ^ array[i][j + 1]) == 1) ? 0 : 1;
								 break;
				}
			}	

			array[i][variables] = answer;

		}
		
		var options = ['a', 'b', 'c', 'd']
        var random = options[parseInt(Math.random() * 4)]

        document.getElementById('a').value = randomString(variables, tokens);
        document.getElementById('b').value = randomString(variables, tokens);
        document.getElementById('c').value = randomString(variables, tokens);
        document.getElementById('d').value = randomString(variables, tokens);
        document.getElementById(random).value = newString;

		printResults(array, variables);

		function check(name) {

			if (name == random) {
				document.getElementById("response").innerHTML="You are Correct!";
				document.getElementById("response").classList.add('btn-success');
				document.getElementById("response").classList.remove('btn-danger');
				reload();
			} else {
				document.getElementById("response").innerHTML="You are not correct!";
				document.getElementById("response").classList.add('btn-danger');
				document.getElementById("response").classList.remove('btn-success');
			}

		}

		funtion reload() {

		}

		// document.write("<br/>");
		// document.write("<br/>");

		// thing = ["00", "01", "11", "10"];

		// ab = [0, 4, 8, 12];
		// cd = [0, 1, 2, 3];

		// document.write("__");
		// for (let i = 0; i < 4; i++) {
		// 	document.write(thing[i] + " ");
		// }


		// for (let i = 0; i < 4; i++) {
			
		// 	document.write(thing[i] + " ");

		// 	for (let j = 0; j < 4; j++) {
		// 		//its not actuall i + j, its the x + y axis coordinate
		// 		//thing
		// 		// would be great if javascript had ENUMS
		// 		document.getElementById('').value = array[ (cd[i] + ab[j]) ][variables];
		// 	}
		// }







</script>


	


<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

</body>
</html>